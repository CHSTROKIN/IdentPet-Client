{"version":3,"names":["_react","_interopRequireWildcard","require","_useLatestMessagePreview","_ChannelsContext","_ChatContext","_jsxRuntime","_this","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ChannelPreviewWithContext","props","channel","client","channelListForceUpdate","forceUpdate","Preview","_useState","useState","state","messages","length","_useState2","_slicedToArray2","lastMessage","setLastMessage","_useState3","_useState4","setForceUpdate","_useState5","countUnread","_useState6","unread","setUnread","latestMessagePreview","useLatestMessagePreview","channelLastMessage","channelLastMessageString","concat","id","updated_at","useEffect","_client$on","on","unsubscribe","newUnreadCount","handleNewMessageEvent","event","message","parent_id","show_in_channel","handleUpdatedOrDeletedMessage","prevLastMessage","_event$message","listeners","forEach","l","handleReadEvent","_event$user","_event$user2","user","userID","prev","listener","jsx","ChannelPreview","_useChatContext","useChatContext","_useChannelsContext","useChannelsContext","assign","exports"],"sourceRoot":"../../../../src","sources":["components/ChannelPreview/ChannelPreview.tsx"],"mappings":"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","ignoreList":[]}
