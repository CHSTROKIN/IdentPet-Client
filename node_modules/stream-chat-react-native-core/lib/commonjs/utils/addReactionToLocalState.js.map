{"version":3,"names":["_apis","require","_insertReaction","addReactionToLocalState","_ref","channel","enforceUniqueReaction","messageId","reactionType","user","message","state","messages","find","_ref2","id","reaction","created_at","Date","toISOString","message_id","type","updated_at","user_id","hasOwnReaction","own_reactions","length","latest_reactions","currentReaction","filter","r","reaction_counts","_defineProperty2","_message$reaction_cou2","_message$reaction_cou4","concat","_toConsumableArray2","updateReaction","insertReaction","exports"],"sourceRoot":"../../../src","sources":["utils/addReactionToLocalState.ts"],"mappings":"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","ignoreList":[]}
