{"version":3,"names":["_react","require","_ChatContext","_TranslationContext","_useTranslatedMessage","getMessageSenderName","message","currentUserId","t","membersLength","_message$user","user","id","_message$user2","_message$user3","_message$user4","name","username","getMentionUsers","mentionedUser","Array","isArray","mentionUserString","reduce","acc","cur","userName","concat","length","replace","match","getLatestMessageDisplayText","channel","client","_message$attachments","bold","text","isMessageTypeDeleted","type","userID","members","Object","keys","state","messageSender","messageSenderText","boldOwner","includes","shortenedText","substring","mentionedUsers","mentioned_users","regEx","RegExp","_toConsumableArray2","split","index","test","push","command","attachments","getLatestMessageDisplayDate","tDateTimeParser","parserOutput","created_at","isDayOrMoment","isSame","Date","format","MessageReadStatus","exports","getLatestMessageReadStatus","readEvents","_message$user5","NOT_SENT_BY_CURRENT_USER","readList","assign","read","messageUpdatedAt","updated_at","undefined","values","some","_ref","last_read","READ","UNREAD","getLatestMessagePreview","params","lastMessage","messages","messageObject","previews","status","channelStateLastMessage","useLatestMessagePreview","forceUpdate","_useChatContext","useChatContext","_useTranslationContex","useTranslationContext","channelConfigExists","getConfig","translatedLastMessage","useTranslatedMessage","channelLastMessageString","_useState","useState","_useState2","_slicedToArray2","setReadEvents","_useState3","_useState4","latestMessagePreview","setLatestMessagePreview","readStatus","useEffect","_channel$getConfig","read_events"],"sourceRoot":"../../../../../src","sources":["components/ChannelPreview/hooks/useLatestMessagePreview.ts"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAIA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,mBAAA,GAAAF,OAAA;AAMA,IAAAG,qBAAA,GAAAH,OAAA;AAqBA,IAAMI,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAGxBC,OAAsD,EACtDC,aAAiC,EACjCC,CAA0B,EAC1BC,aAAqB,EAClB;EAAA,IAAAC,aAAA;EACH,IAAI,CAAAJ,OAAO,qBAAAI,aAAA,GAAPJ,OAAO,CAAEK,IAAI,qBAAbD,aAAA,CAAeE,EAAE,MAAKL,aAAa,EAAE;IACvC,OAAOC,CAAC,CAAC,KAAK,CAAC;EACjB;EAEA,IAAIC,aAAa,GAAG,CAAC,EAAE;IAAA,IAAAI,cAAA,EAAAC,cAAA,EAAAC,cAAA;IACrB,OAAO,CAAAT,OAAO,qBAAAO,cAAA,GAAPP,OAAO,CAAEK,IAAI,qBAAbE,cAAA,CAAeG,IAAI,MAAIV,OAAO,qBAAAQ,cAAA,GAAPR,OAAO,CAAEK,IAAI,qBAAbG,cAAA,CAAeG,QAAQ,MAAIX,OAAO,qBAAAS,cAAA,GAAPT,OAAO,CAAEK,IAAI,qBAAbI,cAAA,CAAeH,EAAE,KAAI,EAAE;EAClF;EAEA,OAAO,EAAE;AACX,CAAC;AAED,IAAMM,eAAe,GAAG,SAAlBA,eAAeA,CAGnBC,aAA6D,EAC1D;EACH,IAAIC,KAAK,CAACC,OAAO,CAACF,aAAa,CAAC,EAAE;IAChC,IAAMG,iBAAiB,GAAGH,aAAa,CAACI,MAAM,CAAC,UAACC,GAAG,EAAEC,GAAG,EAAK;MAC3D,IAAMC,QAAQ,GAAGD,GAAG,CAACT,IAAI,IAAIS,GAAG,CAACb,EAAE,IAAI,EAAE;MACzC,IAAIc,QAAQ,EAAE;QACZF,GAAG,OAAAG,MAAA,CAAOH,GAAG,CAACI,MAAM,GAAG,GAAG,GAAG,EAAE,OAAAD,MAAA,CAAID,QAAQ,CAAE;MAC/C;MACA,OAAOF,GAAG;IACZ,CAAC,EAAE,EAAE,CAAC;IAGN,OAAOF,iBAAiB,CAACO,OAAO,CAAC,qBAAqB,EAAE,UAAUC,KAAK,EAAE;MACvE,OAAO,IAAI,GAAGA,KAAK;IACrB,CAAC,CAAC;EACJ;EAEA,OAAO,EAAE;AACX,CAAC;AAED,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAG/BC,OAAoC,EACpCC,MAAsC,EACtC3B,OAAsD,EACtDE,CAA0B,EACvB;EAAA,IAAA0B,oBAAA;EACH,IAAI,CAAC5B,OAAO,EAAE,OAAO,CAAC;IAAE6B,IAAI,EAAE,KAAK;IAAEC,IAAI,EAAE5B,CAAC,CAAC,gBAAgB;EAAE,CAAC,CAAC;EACjE,IAAM6B,oBAAoB,GAAG/B,OAAO,CAACgC,IAAI,KAAK,SAAS;EACvD,IAAID,oBAAoB,EAAE,OAAO,CAAC;IAAEF,IAAI,EAAE,KAAK;IAAEC,IAAI,EAAE5B,CAAC,CAAC,iBAAiB;EAAE,CAAC,CAAC;EAC9E,IAAMD,aAAa,GAAG0B,MAAM,oBAANA,MAAM,CAAEM,MAAM;EACpC,IAAMC,OAAO,GAAGC,MAAM,CAACC,IAAI,CAACV,OAAO,CAACW,KAAK,CAACH,OAAO,CAAC;EAElD,IAAMI,aAAa,GAAGvC,oBAAoB,CAACC,OAAO,EAAEC,aAAa,EAAEC,CAAC,EAAEgC,OAAO,CAACZ,MAAM,CAAC;EACrF,IAAMiB,iBAAiB,GAAGD,aAAa,MAAAjB,MAAA,CAChCiB,aAAa,KAAKpC,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,GAAG,EAAAmB,MAAA,CAAGiB,aAAa,UACxD,EAAE;EACN,IAAME,SAAS,GAAGD,iBAAiB,CAACE,QAAQ,CAAC,GAAG,CAAC;EACjD,IAAIzC,OAAO,CAAC8B,IAAI,EAAE;IAEhB,IAAMY,aAAa,GAAG1C,OAAO,CAAC8B,IAAI,CAACa,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,CAACpB,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;IACxE,IAAMqB,cAAc,GAAGhC,eAAe,CAACZ,OAAO,CAAC6C,eAAe,CAAC;IAC/D,IAAMC,KAAK,GAAG,IAAIC,MAAM,MAAA1B,MAAA,CAAMuB,cAAc,MAAG,CAAC;IAChD,QACE;MAAEf,IAAI,EAAEW,SAAS;MAAEV,IAAI,EAAES;IAAkB,CAAC,EAAAlB,MAAA,KAAA2B,mBAAA,aACzCN,aAAa,CAACO,KAAK,CAAC,EAAE,CAAC,CAAChC,MAAM,CAC/B,UAACC,GAAG,EAAEC,GAAG,EAAE+B,KAAK,EAAK;MACnB,IAAI/B,GAAG,KAAK,GAAG,IAAIyB,cAAc,IAAIE,KAAK,CAACK,IAAI,CAACT,aAAa,CAACC,SAAS,CAACO,KAAK,CAAC,CAAC,EAAE;QAC/EhC,GAAG,CAACkC,IAAI,CAAC;UAAEvB,IAAI,EAAE,IAAI;UAAEC,IAAI,EAAEX;QAAI,CAAC,CAAC;MACrC,CAAC,MAAM,IAAIyB,cAAc,IAAIE,KAAK,CAACK,IAAI,CAACjC,GAAG,CAACA,GAAG,CAACI,MAAM,GAAG,CAAC,CAAC,CAACQ,IAAI,CAAC,EAAE;QACjEZ,GAAG,CAACkC,IAAI,CAAC;UAAEvB,IAAI,EAAE,KAAK;UAAEC,IAAI,EAAEX;QAAI,CAAC,CAAC;MACtC,CAAC,MAAM;QACLD,GAAG,CAACA,GAAG,CAACI,MAAM,GAAG,CAAC,CAAC,CAACQ,IAAI,IAAIX,GAAG;MACjC;MACA,OAAOD,GAAG;IACZ,CAAC,EACD,CAAC;MAAEW,IAAI,EAAE,KAAK;MAAEC,IAAI,EAAE;IAAG,CAAC,CAC5B,CAAC;EAEL;EACA,IAAI9B,OAAO,CAACqD,OAAO,EAAE;IACnB,OAAO,CACL;MAAExB,IAAI,EAAEW,SAAS;MAAEV,IAAI,EAAES;IAAkB,CAAC,EAC5C;MAAEV,IAAI,EAAE,KAAK;MAAEC,IAAI,MAAAT,MAAA,CAAMrB,OAAO,CAACqD,OAAO;IAAG,CAAC,CAC7C;EACH;EACA,KAAAzB,oBAAA,GAAI5B,OAAO,CAACsD,WAAW,aAAnB1B,oBAAA,CAAqBN,MAAM,EAAE;IAC/B,OAAO,CACL;MAAEO,IAAI,EAAEW,SAAS;MAAEV,IAAI,EAAES;IAAkB,CAAC,EAC5C;MAAEV,IAAI,EAAE,KAAK;MAAEC,IAAI,EAAE5B,CAAC,CAAC,kBAAkB;IAAE,CAAC,CAC7C;EACH;EACA,OAAO,CACL;IAAE2B,IAAI,EAAEW,SAAS;IAAEV,IAAI,EAAES;EAAkB,CAAC,EAC5C;IAAEV,IAAI,EAAE,KAAK;IAAEC,IAAI,EAAE5B,CAAC,CAAC,kBAAkB;EAAE,CAAC,CAC7C;AACH,CAAC;AAED,IAAMqD,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAG/BvD,OAAsD,EACtDwD,eAAgC,EAC7B;EACH,IAAMC,YAAY,GAAGD,eAAe,CAACxD,OAAO,oBAAPA,OAAO,CAAE0D,UAAU,CAAC;EACzD,IAAI,IAAAC,iCAAa,EAACF,YAAY,CAAC,EAAE;IAC/B,IAAIA,YAAY,CAACG,MAAM,CAAC,IAAIC,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE;MAC1C,OAAOJ,YAAY,CAACK,MAAM,CAAC,IAAI,CAAC;IAClC;IACA,OAAOL,YAAY,CAACK,MAAM,CAAC,GAAG,CAAC;EACjC;EACA,OAAOL,YAAY;AACrB,CAAC;AAAC,IAEUM,iBAAiB,aAAjBA,iBAAiB;EAAjBA,iBAAiB,CAAjBA,iBAAiB;EAAjBA,iBAAiB,CAAjBA,iBAAiB;EAAjBA,iBAAiB,CAAjBA,iBAAiB;EAAA,OAAjBA,iBAAiB;AAAA;AAAAC,OAAA,CAAAD,iBAAA,GAAAA,iBAAA;AAM7B,IAAME,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAG9BvC,OAAoC,EACpCC,MAAsC,EACtC3B,OAAsD,EACtDkE,UAAmB,EACG;EAAA,IAAAC,cAAA;EACtB,IAAMlE,aAAa,GAAG0B,MAAM,CAACM,MAAM;EACnC,IAAI,CAACjC,OAAO,IAAIC,aAAa,OAAAkE,cAAA,GAAKnE,OAAO,CAACK,IAAI,qBAAZ8D,cAAA,CAAc7D,EAAE,KAAI4D,UAAU,KAAK,KAAK,EAAE;IAC1E,OAAOH,iBAAiB,CAACK,wBAAwB;EACnD;EAEA,IAAMC,QAAQ,GAAAlC,MAAA,CAAAmC,MAAA,KAAQ5C,OAAO,CAACW,KAAK,CAACkC,IAAI,CAAE;EAC1C,IAAItE,aAAa,EAAE;IACjB,OAAOoE,QAAQ,CAACpE,aAAa,CAAC;EAChC;EAEA,IAAMuE,gBAAgB,GAAGxE,OAAO,CAACyE,UAAU,GACvC,OAAOzE,OAAO,CAACyE,UAAU,KAAK,QAAQ,GACpC,IAAIZ,IAAI,CAAC7D,OAAO,CAACyE,UAAU,CAAC,GAC5BzE,OAAO,CAACyE,UAAU,GACpBC,SAAS;EAEb,OAAOvC,MAAM,CAACwC,MAAM,CAACN,QAAQ,CAAC,CAACO,IAAI,CACjC,UAAAC,IAAA;IAAA,IAAGC,SAAS,GAAAD,IAAA,CAATC,SAAS;IAAA,OAAON,gBAAgB,IAAIA,gBAAgB,GAAGM,SAAS;EAAA,CACrE,CAAC,GACGf,iBAAiB,CAACgB,IAAI,GACtBhB,iBAAiB,CAACiB,MAAM;AAC9B,CAAC;AAED,IAAMC,uBAAuB,GAAG,SAA1BA,uBAAuBA,CAE3BC,MASD,EAAK;EACJ,IAAQxD,OAAO,GAA0DwD,MAAM,CAAvExD,OAAO;IAAEC,MAAM,GAAkDuD,MAAM,CAA9DvD,MAAM;IAAEwD,WAAW,GAAqCD,MAAM,CAAtDC,WAAW;IAAEjB,UAAU,GAAyBgB,MAAM,CAAzChB,UAAU;IAAEhE,CAAC,GAAsBgF,MAAM,CAA7BhF,CAAC;IAAEsD,eAAe,GAAK0B,MAAM,CAA1B1B,eAAe;EAEpE,IAAM4B,QAAQ,GAAG1D,OAAO,CAACW,KAAK,CAAC+C,QAAQ;EAEvC,IAAI,CAACA,QAAQ,CAAC9D,MAAM,IAAI,CAAC6D,WAAW,EAAE;IACpC,OAAO;MACLzB,UAAU,EAAE,EAAE;MACd2B,aAAa,EAAEX,SAAS;MACxBY,QAAQ,EAAE,CACR;QACEzD,IAAI,EAAE,KAAK;QACXC,IAAI,EAAE5B,CAAC,CAAC,gBAAgB;MAC1B,CAAC,CACF;MACDqF,MAAM,EAAExB,iBAAiB,CAACK;IAC5B,CAAC;EACH;EAEA,IAAMoB,uBAAuB,GAAGJ,QAAQ,CAAC9D,MAAM,GAAG8D,QAAQ,CAACA,QAAQ,CAAC9D,MAAM,GAAG,CAAC,CAAC,GAAGoD,SAAS;EAE3F,IAAM1E,OAAO,GAAGmF,WAAW,KAAKT,SAAS,GAAGS,WAAW,GAAGK,uBAAuB;EAEjF,OAAO;IACL9B,UAAU,EAAEH,2BAA2B,CAACvD,OAAO,EAAEwD,eAAe,CAAC;IACjE6B,aAAa,EAAErF,OAAO;IACtBsF,QAAQ,EAAE7D,2BAA2B,CAACC,OAAO,EAAEC,MAAM,EAAE3B,OAAO,EAAEE,CAAC,CAAC;IAClEqF,MAAM,EAAEtB,0BAA0B,CAACvC,OAAO,EAAEC,MAAM,EAAE3B,OAAO,EAAEkE,UAAU;EACzE,CAAC;AACH,CAAC;AASM,IAAMuB,uBAAuB,GAAG,SAA1BA,uBAAuBA,CAGlC/D,OAAoC,EACpCgE,WAAmB,EAChB;EACH,IAAAC,eAAA,GAAmB,IAAAC,2BAAc,EAAqB,CAAC;IAA/CjE,MAAM,GAAAgE,eAAA,CAANhE,MAAM;EACd,IAAAkE,qBAAA,GAA+B,IAAAC,yCAAqB,EAAC,CAAC;IAA9C5F,CAAC,GAAA2F,qBAAA,CAAD3F,CAAC;IAAEsD,eAAe,GAAAqC,qBAAA,CAAfrC,eAAe;EAE1B,IAAMuC,mBAAmB,GAAG,QAAOrE,OAAO,oBAAPA,OAAO,CAAEsE,SAAS,MAAK,UAAU;EAEpE,IAAMZ,QAAQ,GAAG1D,OAAO,CAACW,KAAK,CAAC+C,QAAQ;EACvC,IAAMpF,OAAO,GAAGoF,QAAQ,CAAC9D,MAAM,GAAG8D,QAAQ,CAACA,QAAQ,CAAC9D,MAAM,GAAG,CAAC,CAAC,GAAGoD,SAAS;EAE3E,IAAMuB,qBAAqB,GAAG,IAAAC,0CAAoB,EAAqBlG,OAAO,CAAC;EAE/E,IAAMmG,wBAAwB,MAAA9E,MAAA,CAAMrB,OAAO,oBAAPA,OAAO,CAAEM,EAAE,EAAAe,MAAA,CAAGrB,OAAO,oBAAPA,OAAO,CAAEyE,UAAU,CAAE;EAEvE,IAAA2B,SAAA,GAAoC,IAAAC,eAAQ,EAAC,IAAI,CAAC;IAAAC,UAAA,OAAAC,eAAA,aAAAH,SAAA;IAA3ClC,UAAU,GAAAoC,UAAA;IAAEE,aAAa,GAAAF,UAAA;EAChC,IAAAG,UAAA,GAAwD,IAAAJ,eAAQ,EAE9D;MACA3C,UAAU,EAAE,EAAE;MACd2B,aAAa,EAAEX,SAAS;MACxBY,QAAQ,EAAE,CACR;QACEzD,IAAI,EAAE,KAAK;QACXC,IAAI,EAAE;MACR,CAAC,CACF;MACDyD,MAAM,EAAExB,iBAAiB,CAACK;IAC5B,CAAC,CAAC;IAAAsC,UAAA,OAAAH,eAAA,aAAAE,UAAA;IAZKE,oBAAoB,GAAAD,UAAA;IAAEE,uBAAuB,GAAAF,UAAA;EAcpD,IAAMG,UAAU,GAAG5C,0BAA0B,CAACvC,OAAO,EAAEC,MAAM,EAAEsE,qBAAqB,EAAE/B,UAAU,CAAC;EAEjG,IAAA4C,gBAAS,EAAC,YAAM;IACd,IAAIf,mBAAmB,EAAE;MAAA,IAAAgB,kBAAA;MACvB,IAAMC,WAAW,IAAAD,kBAAA,GAAGrF,OAAO,CAACsE,SAAS,CAAC,CAAC,qBAAnBe,kBAAA,CAAqBC,WAAW;MACpD,IAAI,OAAOA,WAAW,KAAK,SAAS,EAAE;QACpCR,aAAa,CAACQ,WAAW,CAAC;MAC5B;IACF;EACF,CAAC,EAAE,CAACjB,mBAAmB,CAAC,CAAC;EAEzB,IAAAe,gBAAS,EACP;IAAA,OACEF,uBAAuB,CACrB3B,uBAAuB,CAAC;MACtBvD,OAAO,EAAPA,OAAO;MACPC,MAAM,EAANA,MAAM;MACNwD,WAAW,EAAEc,qBAAqB;MAClC/B,UAAU,EAAVA,UAAU;MACVhE,CAAC,EAADA,CAAC;MACDsD,eAAe,EAAfA;IACF,CAAC,CACH,CAAC;EAAA,GACH,CAAC2C,wBAAwB,EAAET,WAAW,EAAExB,UAAU,EAAE2C,UAAU,CAChE,CAAC;EAED,OAAOF,oBAAoB;AAC7B,CAAC;AAAC3C,OAAA,CAAAyB,uBAAA,GAAAA,uBAAA","ignoreList":[]}
