{"version":3,"names":["resampleWaveformData","waveformData","amplitudesCount","length","downSample","upSample","exports","data","targetOutputSize","mean","result","bucketSize","lastSelectedPointIndex","push","maxAreaPoint","maxArea","triangleArea","bucketIndex","previousBucketRefPoint","nextBucketMean","getNextBucketMean","currentBucketStartIndex","Math","floor","nextBucketStartIndex","countUnitsBetweenAtoC","currentPointIndex","countUnitsBetweenAtoB","abs","countUnitsBetweenBtoC","currentPointValue","triangleAreaHeron","triangleBase","a","b","c","s","sqrt","pow","values","reduce","acc","value","divMod","num","divisor","currentBucketIndex","nextNextBucketStartIndex","slice","targetSize","console","warn","_divMod","_divMod2","_slicedToArray2","remainder","i","extra","apply","_toConsumableArray2","Array","fill"],"sourceRoot":"../../../../../src","sources":["components/MessageInput/utils/audioSampling.ts"],"mappings":"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","ignoreList":[]}
