{"version":3,"names":["_mapMessageToStorable","require","_mapReactionToStorable","_mapUserToStorable","_QuickSqliteClient","_createUpsertQuery","upsertMessages","_ref","_ref$flush","flush","messages","storableMessages","storableUsers","storableReactions","forEach","message","push","mapMessageToStorable","user","mapUserToStorable","concat","_toConsumableArray2","latest_reactions","own_reactions","r","mapReactionToStorable","finalQueries","map","storableMessage","createUpsertQuery","storableUser","storableReaction","QuickSqliteClient","logger","reactions","users","executeSqlBatch","exports"],"sourceRoot":"../../../../src","sources":["store/apis/upsertMessages.ts"],"mappings":";;;;;;AAEA,IAAAA,qBAAA,GAAAC,OAAA;AACA,IAAAC,sBAAA,GAAAD,OAAA;AACA,IAAAE,kBAAA,GAAAF,OAAA;AACA,IAAAG,kBAAA,GAAAH,OAAA;AACA,IAAAI,kBAAA,GAAAJ,OAAA;AAEO,IAAMK,cAAc,GAAG,SAAjBA,cAAcA,CAAAC,IAAA,EAMrB;EAAA,IAAAC,UAAA,GAAAD,IAAA,CALJE,KAAK;IAALA,KAAK,GAAAD,UAAA,cAAG,IAAI,GAAAA,UAAA;IACZE,QAAQ,GAAAH,IAAA,CAARG,QAAQ;EAKR,IAAMC,gBAAgE,GAAG,EAAE;EAC3E,IAAMC,aAA0D,GAAG,EAAE;EACrE,IAAMC,iBAAkE,GAAG,EAAE;EAE7EH,QAAQ,oBAARA,QAAQ,CAAEI,OAAO,CAAC,UAACC,OAAwB,EAAK;IAC9CJ,gBAAgB,CAACK,IAAI,CAAC,IAAAC,0CAAoB,EAACF,OAAO,CAAC,CAAC;IACpD,IAAIA,OAAO,CAACG,IAAI,EAAE;MAChBN,aAAa,CAACI,IAAI,CAAC,IAAAG,oCAAiB,EAACJ,OAAO,CAACG,IAAI,CAAC,CAAC;IACrD;IACA,GAAAE,MAAA,KAAAC,mBAAA,aAAKN,OAAO,CAACO,gBAAgB,IAAI,EAAE,OAAAD,mBAAA,aAAON,OAAO,CAACQ,aAAa,IAAI,EAAE,GAAGT,OAAO,CAAC,UAACU,CAAC,EAAK;MACrF,IAAIA,CAAC,CAACN,IAAI,EAAE;QACVN,aAAa,CAACI,IAAI,CAAC,IAAAG,oCAAiB,EAACK,CAAC,CAACN,IAAI,CAAC,CAAC;MAC/C;MACAL,iBAAiB,CAACG,IAAI,CAAC,IAAAS,4CAAqB,EAACD,CAAC,CAAC,CAAC;IAClD,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,IAAME,YAAY,MAAAN,MAAA,KAAAC,mBAAA,aACbV,gBAAgB,CAACgB,GAAG,CAAC,UAACC,eAAe;IAAA,OAAK,IAAAC,oCAAiB,EAAC,UAAU,EAAED,eAAe,CAAC;EAAA,EAAC,OAAAP,mBAAA,aACzFT,aAAa,CAACe,GAAG,CAAC,UAACG,YAAY;IAAA,OAAK,IAAAD,oCAAiB,EAAC,OAAO,EAAEC,YAAY,CAAC;EAAA,EAAC,OAAAT,mBAAA,aAC7ER,iBAAiB,CAACc,GAAG,CAAC,UAACI,gBAAgB;IAAA,OACxC,IAAAF,oCAAiB,EAAC,WAAW,EAAEE,gBAAgB,CAAC;EAAA,CAClD,CAAC,EACF;EAEDC,oCAAiB,CAACC,MAAM,oBAAxBD,oCAAiB,CAACC,MAAM,CAAG,MAAM,EAAE,gBAAgB,EAAE;IACnDxB,KAAK,EAALA,KAAK;IACLC,QAAQ,EAAEC,gBAAgB;IAC1BuB,SAAS,EAAErB,iBAAiB;IAC5BsB,KAAK,EAAEvB;EACT,CAAC,CAAC;EAEF,IAAIH,KAAK,EAAE;IACTuB,oCAAiB,CAACI,eAAe,CAACV,YAAY,CAAC;EACjD;EAEA,OAAOA,YAAY;AACrB,CAAC;AAACW,OAAA,CAAA/B,cAAA,GAAAA,cAAA","ignoreList":[]}
